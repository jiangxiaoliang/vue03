<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <div id="app">1231</div>
</body>
<script type="module">
    import { reactive } from './dist/reactive.js'
    import { effect } from './dist/effect.js'

    const user = reactive({
        name: '小王',
        age: 20,
        foo: {
            bar: {
                fn: 12
            }
        }
    })

    effect(() => {
        document.querySelector('#app').innerHTML = `${user.name} - ${user.age} - ${user.foo.bar.fn}`
    })

    setTimeout(() => {
        user.name = '大王'
        setTimeout(() => {
            user.age = 22
            setTimeout(() => {
                user.foo.bar.fn = '改变了'
            }, 1000)
        }, 1000)
    }, 1000)
</script>
</html>